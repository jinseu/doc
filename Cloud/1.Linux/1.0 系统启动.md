### 系统启动

Linux 操作系统的启动首先从 BIOS 开始，接下来进入 boot loader，由 bootloader 载入内核，进行内核初始化。内核初始化的最后一步就是启动 pid 为 1 的 init 进程。这个进程是系统的第一个进程。它负责产生其他所有用户进程。

init 以守护进程方式存在，是所有其他进程的祖先。

#### sysvinit

**系统启动顺序**

1. 启动BIOS，读取MBR（主引导记录），从MBR中获取GRUB地址，运行GRUB。
2. GRUB会加载kernel，并运行第一个程序/sbin/inittab来进行初始化工作。设定系统运行级别。根据系统运行的级别，运行对应的脚本/etc/init.d/rc 在rc脚本里会设置系统变量，网络，设定/proc,加载用户模块模块。
3. 根据runlevel启动对应的服务
4. 运行/etc/rc.local

**服务启动顺序**

确定服务启动的顺序是根据rc.d目录下的脚本确定的，该目录下都是符号链接，连接的是上层init.d目录下的服务脚本。在系统启动时会先运行K（kill）开头的脚本，然后运行S（start）开头的脚本。在运行同类的脚本时，先运行数字小的，然后运行数字大的。

**运行级**

linux中有7个运行级。包括

* `0：关机`
* `1：单用户模式`
* `2：多用户，无网络`
* `3：完全多用户`
* `4：保留未使用`
* `5：窗口模式，多用户，支持网络`
* `6：重启`

在/etc/inittab中定义了默认的runlevel，可以用runlevel查看当前和之前的runlevel，也可以用`telinit 3` 来改变当前runlevel，telinit会通过合适的信号来告诉init程序需要改变到什么模式下运行。

**单用户模式**

在单用户模式下，系统会运行/sbin/sulogin，一般用于系统故障时的维护，典型的场景有忘记root密码后，进入该模式修改root密码。


#### upstart

#### systemd

### 文件系统

#### 管理命令

